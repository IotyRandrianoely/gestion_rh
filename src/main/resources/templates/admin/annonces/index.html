<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Admin - Annonces</title>
    <style>
        /* --- ton CSS inchangé --- */
        body { font-family:'Segoe UI',Arial,sans-serif; line-height:1.6; max-width:1200px; margin:0 auto; padding:20px; background:#f5f7fa; }
        h2 { color:#2c3e50; border-bottom:2px solid #3498db; padding-bottom:10px; margin-bottom:30px; }
        .add-button { display:inline-block; padding:10px 20px; background:#2ecc71; color:#fff; text-decoration:none; border-radius:4px; margin-bottom:20px; transition:all .3s ease; }
        .add-button:hover { background:#27ae60; transform:translateY(-2px); }
        .annonces-table { width:100%; background:#fff; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,.1); border-collapse:collapse; overflow:hidden; }
        .annonces-table th { background:#34495e; color:#fff; padding:12px; text-align:left; }
        .annonces-table td { padding:12px; border-bottom:1px solid #eee; }
        .annonces-table tr:hover { background:#f8f9fa; }
        .action-links a { margin:0 5px; text-decoration:none; color:#3498db; }
        .action-links a:hover { color:#2980b9; }
        .delete-link { color:#e74c3c !important; }
        .delete-link:hover { color:#c0392b !important; }
        .back-link { display:inline-block; padding:10px 20px; background:#3498db; color:#fff; text-decoration:none; border-radius:4px; margin-top:20px; transition:background .3s; }
        .back-link:hover { background:#2980b9; }
    </style>
</head>
<body>
    <h2>Administration des Annonces</h2>

    <a class="add-button" th:href="@{/admin/annonces/new}">+ Nouvelle annonce</a>

    <table class="annonces-table">
        <tr>
            <th>ID</th>
            <th>Poste</th>
            <th>Description</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
        <tr th:each="a : ${annonces}">
            <td th:text="${a.id}"></td>
            <td th:text="${a.poste.profil}">Profil</td>
            <td th:text="${a.poste.description}">Description</td>
            <td th:text="${a.datePublication}">2025-01-01</td>
            <td class="action-links">
                <a th:href="@{/annonces/{id}(id=${a.id})}" target="_blank">Voir</a> |
                <a th:href="@{/admin/annonces/edit/{id}(id=${a.id})}">Modifier</a> |
                <a class="delete-link" th:href="@{/admin/annonces/delete/{id}(id=${a.id})}"
                   onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette annonce ?');">Supprimer</a>
            </td>
        </tr>
    </table>

    <a class="back-link" th:href="@{/annonces}">⬅ Retour au site</a>
</body>
</html>
